<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Portfolio</title>
    <link rel="stylesheet" href="styles.css">
    <script src="icon-loader.js" defer></script>
    <script src="themes/theme-toggle.js" defer></script>
    <script src="modal.js" defer></script>
    <script src="chameleon-navbar.js" defer></script>
    <script>
        // Preserve image aspect ratios in gallery
        (function() {
            function initGalleryAspectRatios() {
                const galleryItems = document.querySelectorAll('.gallery__item');
                
                galleryItems.forEach(function(item) {
                    const img = item.querySelector('.gallery__image');
                    if (!img) return;
                    
                    // Get dimensions from data attributes on the item
                    let widthNum = parseFloat(item.getAttribute('data-width'));
                    let heightNum = parseFloat(item.getAttribute('data-height'));
                    
                    if (widthNum && heightNum && !isNaN(widthNum) && !isNaN(heightNum) && heightNum > 0) {
                        // Calculate aspect ratio
                        const aspectRatio = widthNum / heightNum;
                        
                        // Set aspect ratio as CSS variable on the image
                        img.style.setProperty('--image-aspect-ratio', aspectRatio.toString());
                        
                        // For tall images (aspect ratio < 1), set height to 100% and width to auto
                        // For wide images (aspect ratio > 1), set width to 100% and height to auto
                        // For square images (aspect ratio = 1), either works
                        if (aspectRatio < 1) {
                            // Tall image - height should match container
                            img.style.width = 'auto';
                            img.style.height = '100%';
                            img.style.maxWidth = '100%';
                            img.style.maxHeight = '100%';
                        } else {
                            // Wide or square image - width should match container
                            img.style.width = '100%';
                            img.style.height = 'auto';
                            img.style.maxWidth = '100%';
                            img.style.maxHeight = '100%';
                        }
                    }
                });
            }
            
            // Run immediately if DOM is ready, otherwise wait
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initGalleryAspectRatios);
            } else {
                setTimeout(initGalleryAspectRatios, 100); // Small delay to ensure DOM is ready
            }
        })();
    </script>
</head>
<body>
    <!-- Navigation Bar Component - Experimental Chameleon Navbar -->
    <nav class="navbar navbar--sticky navbar--chameleon">
        <!-- Left Slot: Logo -->
        <div class="navbar__slot navbar__slot--left">
            <a href="index.html" class="navbar__logo">Portfolio</a>
        </div>
        
        <!-- Center Slot: Navigation Links -->
        <div class="navbar__slot navbar__slot--center">
            <ul class="navbar__nav">
                <li><a href="index.html" class="navbar__link">Home</a></li>
                <li><a href="about.html" class="navbar__link">About</a></li>
                <li><a href="work.html" class="navbar__link">Work</a></li>
                <li><a href="contact.html" class="navbar__link">Contact</a></li>
                <li><a href="components.html" class="navbar__link">Components</a></li>
                <li><a href="gallery.html" class="navbar__link navbar__link--active">Gallery</a></li>
            </ul>
        </div>
        
        <!-- Right Slot: Mobile Menu, Theme Toggle & Button -->
        <div class="navbar__slot navbar__slot--right">
            <button class="btn btn--ghost navbar__mobile-menu-btn btn--icon-only" data-modal-trigger="nav-modal" aria-label="Open navigation menu">
                <span class="btn__icon" data-icon="bars-3" data-icon-size="20" data-icon-style="solid" data-icon-replace></span>
            </button>
            <button class="btn btn--ghost theme-toggle btn--icon-only" data-theme-toggle aria-label="Toggle theme" aria-pressed="false">
                <span class="btn__icon theme-toggle__icon" data-icon="moon" data-icon-size="20" data-icon-style="solid" data-icon-replace></span>
            </button>
            <button class="btn btn--primary">Get Started</button>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main style="padding: var(--spacing-xl); max-width: 1400px; margin: 0 auto;">
        <header style="margin-bottom: var(--spacing-2xl);">
            <h1 style="margin-bottom: var(--spacing-md);">Gallery</h1>
            <p style="color: var(--color-text-light); font-size: var(--font-size-lg); max-width: 600px;">
                A flexible gallery for displaying work of various formats and sizes.
            </p>
        </header>
        
        <!-- Color Test Section -->
        <section style="margin-bottom: var(--spacing-2xl);">
            <h2 style="margin-bottom: var(--spacing-lg);">Color Test Blocks</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-xl);">
                <!-- Row 1: Primary colors -->
                <div style="background-color: #ff0000; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #00ff00; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #0000ff; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ffff00; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ff00ff; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #00ffff; height: 200px; border-radius: var(--radius-md);"></div>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-xl);">
                <!-- Row 2: Secondary colors -->
                <div style="background-color: #ff8800; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #8800ff; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #00ff88; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ff0088; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #0088ff; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #88ff00; height: 200px; border-radius: var(--radius-md);"></div>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-xl);">
                <!-- Row 3: Grayscale -->
                <div style="background-color: #000000; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #333333; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #666666; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #999999; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #cccccc; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ffffff; height: 200px; border-radius: var(--radius-md); border: 2px solid var(--color-border);"></div>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-xl);">
                <!-- Row 4: Pastels -->
                <div style="background-color: #ffcccc; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ccffcc; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ccccff; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ffffcc; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ffccff; height: 200px; border-radius: var(--radius-md);"></div>
                <div style="background-color: #ccffff; height: 200px; border-radius: var(--radius-md);"></div>
            </div>
        </section>
        
        <!-- Gallery Container -->
        <div class="gallery gallery--masonry">
            <!-- Placeholder images - colored rectangles of various sizes -->
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="0" data-width="280" data-height="420">
                <div class="gallery__image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="1" data-width="200" data-height="400">
                <div class="gallery__image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="2" data-width="300" data-height="300">
                <div class="gallery__image" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="3" data-width="250" data-height="250">
                <div class="gallery__image" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="4" data-width="400" data-height="200">
                <div class="gallery__image" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="5" data-width="450" data-height="180">
                <div class="gallery__image" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="6" data-width="240" data-height="320">
                <div class="gallery__image" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="7" data-width="360" data-height="240">
                <div class="gallery__image" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="8" data-width="280" data-height="280">
                <div class="gallery__image" style="background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="9" data-width="220" data-height="380">
                <div class="gallery__image" style="background: linear-gradient(135deg, #ff6e7f 0%, #bfe9ff 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="10" data-width="380" data-height="220">
                <div class="gallery__image" style="background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);"></div>
            </div>
            <div class="gallery__item" data-modal-trigger="gallery-modal" data-image-index="11" data-width="300" data-height="300">
                <div class="gallery__image" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);"></div>
            </div>
        </div>
    </main>
    
    <!-- Navigation Modal -->
    <div id="nav-modal" class="modal">
        <div class="modal__dialog">
            <div class="modal__header">
                <h2 class="modal__title">Navigation</h2>
                <button class="modal__close" data-modal-close aria-label="Close modal">×</button>
            </div>
            <div class="modal__body">
                <nav class="tile-grid tile-grid--cols-2" style="gap: var(--spacing-md);">
                    <a href="index.html" class="tile tile--shadow" style="min-height: 120px; display: flex; align-items: center; justify-content: center; text-decoration: none;" data-modal-close>
                        <div style="text-align: center;">
                            <div style="font-size: var(--font-size-xl); font-weight: 700; color: var(--color-text);">Home</div>
                        </div>
                    </a>
                    <a href="about.html" class="tile tile--shadow" style="min-height: 120px; display: flex; align-items: center; justify-content: center; text-decoration: none;" data-modal-close>
                        <div style="text-align: center;">
                            <div style="font-size: var(--font-size-xl); font-weight: 700; color: var(--color-text);">About</div>
                        </div>
                    </a>
                    <a href="work.html" class="tile tile--shadow" style="min-height: 120px; display: flex; align-items: center; justify-content: center; text-decoration: none;" data-modal-close>
                        <div style="text-align: center;">
                            <div style="font-size: var(--font-size-xl); font-weight: 700; color: var(--color-text);">Work</div>
                        </div>
                    </a>
                    <a href="contact.html" class="tile tile--shadow" style="min-height: 120px; display: flex; align-items: center; justify-content: center; text-decoration: none;" data-modal-close>
                        <div style="text-align: center;">
                            <div style="font-size: var(--font-size-xl); font-weight: 700; color: var(--color-text);">Contact</div>
                        </div>
                    </a>
                    <a href="components.html" class="tile tile--shadow" style="min-height: 120px; display: flex; align-items: center; justify-content: center; text-decoration: none;" data-modal-close>
                        <div style="text-align: center;">
                            <div style="font-size: var(--font-size-xl); font-weight: 700; color: var(--color-text);">Components</div>
                        </div>
                    </a>
                    <a href="gallery.html" class="tile tile--shadow" style="min-height: 120px; display: flex; align-items: center; justify-content: center; text-decoration: none;" data-modal-close>
                        <div style="text-align: center;">
                            <div style="font-size: var(--font-size-xl); font-weight: 700; color: var(--color-text);">Gallery</div>
                        </div>
                    </a>
                </nav>
            </div>
        </div>
    </div>
    
    <!-- Gallery Image Modal -->
    <div id="gallery-modal" class="modal">
        <div class="modal__dialog" style="max-width: 90vw; max-height: 90vh; width: 1200px;">
            <div class="modal__header">
                <h2 class="modal__title">Image</h2>
                <button class="modal__close" data-modal-close aria-label="Close modal">×</button>
            </div>
            <div class="modal__body" style="padding: 0; display: flex; gap: 0;">
                <div id="gallery-modal-image" style="flex: 1; min-width: 0; display: flex; align-items: center; justify-content: center; padding: var(--spacing-xl);">
                    <!-- Image will be inserted here -->
                </div>
                <div id="gallery-modal-content" style="flex: 1; min-width: 0; padding: var(--spacing-xl); display: flex; flex-direction: column; gap: var(--spacing-lg);">
                    <p id="gallery-modal-description" style="color: var(--color-text-light); line-height: 1.6;">Image description goes here. This is placeholder text that will be replaced with actual content when images are added.</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

